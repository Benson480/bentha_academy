{% extends "home_master.html" %}

{% block title %}
Bentha Academy | Login & Signup
{% endblock %}

{% block content %}

<div class="auth-wrapper">

    <!-- LOGIN CARD -->
    <div class="auth-card" id="loginCard">
        <h2>Welcome Back ðŸ‘‹</h2>
        <p class="subtitle">Login to continue learning</p>

        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label>{{ login_form.username.label }}</label>
                {{ login_form.username }}
            </div>

            <div class="form-group">
                <label>{{ login_form.password.label }}</label>
                <div class="password-field">
                    {{ login_form.password }}
                    <button type="button" onclick="togglePassword()" class="eye-btn">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>

            <div class="remember">
                <label>
                    <input type="checkbox" name="remember_me"> Remember me
                </label>
            </div>

            <button class="auth-btn">Login</button>
        </form>

        {% if login_form.errors %}
        <div class="error-box">
            Invalid login credentials
        </div>
        {% endif %}

        <p class="switch-text">
            Donâ€™t have an account?
            <a href="#" onclick="showSignup()">Create one</a>
        </p>
    </div>


    <!-- SIGNUP CARD -->
    <div class="auth-card" id="signupCard" style="display:none;">
        <h2>Create Account ðŸš€</h2>
        <p class="subtitle">Join Bentha Academy today</p>

        <form method="post">
            {% csrf_token %}

            {% for field in signup_form %}
            <div class="form-group">
                <label>{{ field.label }}</label>
                {{ field }}
                {% for error in field.errors %}
                    <div class="field-error">{{ error }}</div>
                {% endfor %}
            </div>
            {% endfor %}

            <button class="auth-btn">Sign Up</button>
        </form>

        <p class="switch-text">
            Already have an account?
            <a href="#" onclick="showLogin()">Login</a>
        </p>
    </div>

</div>


<style>

.auth-wrapper{
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:70vh;
}

.auth-card{
    width:100%;
    max-width:420px;
    background:white;
    padding:40px;
    border-radius:18px;
    box-shadow:0 10px 40px rgba(0,0,0,0.15);
    text-align:center;
}

.auth-card h2{
    font-weight:700;
}

.subtitle{
    color:#777;
    margin-bottom:30px;
}

.form-group{
    text-align:left;
    margin-bottom:20px;
}

.form-group label{
    font-weight:600;
    margin-bottom:5px;
    display:block;
}

.form-group input{
    width:100%;
    padding:12px;
    border-radius:8px;
    border:1px solid #ddd;
}

.password-field{
    position:relative;
}

.eye-btn{
    position:absolute;
    right:10px;
    top:50%;
    transform:translateY(-50%);
    border:none;
    background:none;
    cursor:pointer;
}

.auth-btn{
    width:100%;
    padding:14px;
    border:none;
    border-radius:10px;
    background:linear-gradient(135deg,#ec4899,#2563eb);
    color:white;
    font-weight:600;
    margin-top:10px;
}

.auth-btn:hover{
    opacity:.9;
}

.switch-text{
    margin-top:20px;
}

.switch-text a{
    font-weight:600;
    color:#2563eb;
}

.error-box{
    background:#ffdddd;
    padding:10px;
    border-radius:6px;
    margin-top:15px;
    color:#c00;
}

.field-error{
    color:red;
    font-size:13px;
}

</style>


<script>

function showSignup(){
    document.getElementById("loginCard").style.display="none";
    document.getElementById("signupCard").style.display="block";
}

function showLogin(){
    document.getElementById("signupCard").style.display="none";
    document.getElementById("loginCard").style.display="block";
}

function togglePassword(){
    const input=document.getElementById("{{ login_form.password.id_for_label }}");
    input.type=input.type==="password"?"text":"password";
}

</script>

{% endblock %}
